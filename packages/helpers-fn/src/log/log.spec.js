const { log } = require('./log')
import { expect, test, describe, beforeEach, afterEach } from 'vitest'

let logSpy

// beforeEach(() => {
//   logSpy = spyOn(global.console, 'log')
// })
// afterEach(() => {
//   logSpy.mockRestore()
// })

const str = 'FOO bar'

test('separators', () => {
  log('separator')
  log('separatorx')
})

test('obj', () => {
  log({
    a : 1,
    b : [ 1, 2 ],
  },
  'obj')
  // expect(logSpy.mock.calls[ 0 ]).toMatchSnapshot()
})

test('obj - when input is not an object', () => {
  log(str, 'obj')
  // expect(logSpy.mock.calls[ 0 ]).toMatchSnapshot()
})

test('with wrong mode', () => {
  expect(() => log(str, 'not exist')).toThrow()
})

test('with too many inputs', () => {
  const expectedSpyCalls = [
    1,
    2,
    3,
    'helpers-fn.log doesn\'t support multiple inputs',
  ]
  log(
    1, 2, 3
  )
  // expect(logSpy.mock.calls[ 0 ]).toEqual(expectedSpyCalls)
})
